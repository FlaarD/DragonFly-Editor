<h1>DragonFly Editor - Editor</h1>
<?php
	#session_start();
	#$_SESSION['set']; <- itemSets des mecs qui ont uploadés
	
	#Ici commence la récupération
	define ("Original_Summoner_s_Rift", 1);
	define ("Twisted_Treeline", 10);
	define ("Summoner_s_Rift", 11);
	define ("Howling_Abyss", 12);
	
	
    $FR_item_list=file_get_contents('http://ddragon.leagueoflegends.com/cdn/5.2.1/data/en_US/item.json');
	$DecodedList = json_decode($FR_item_list, true);
	
	function display_Icon($ID){
		$image = '<img src="http://ddragon.leagueoflegends.com/cdn/5.2.1/img/item/'.$ID.'.png" alt="texte alternatif" />';
		echo $image;
	}
	
	function display_all_selected($ItemsList, $Maps = array(), $Tags = array()){
		#If sur le nombre d'argument évidemment !
		#$MyLocalDecodedList = func_get_arg(0);
		#$criterias = func_get_args();
		$TrueItemData = $ItemsList['data'];
		$IsDisplayed = true;


		
		foreach($TrueItemData as $currentItem => $value){
			if(!empty($Maps) && empty($Tags)){
				foreach($Maps as $map){				
					if (isset ($value['maps'][$map]) && !$value['maps'][$map]){
						echo 'test';
						die;
						$IsDisplayed = false;
					}
					else{
						$IsDisplayed = true;
						}
				}					
			}
			else if (empty($Maps) && !empty($Tags)){

				/* foreach($Tags as $tag){
					if (isset ($value['tags'])){
						foreach ($value['tags'])
					}
				} */
			}
			else{
				echo 'troisième cas';
			}
			if ($IsDisplayed) {
				display_Icon($currentItem);
				var_dump($value);
			}
		}
		/*
		#$key contient les id
		#$value contient le tableau assoc de chaque item
		$key=
		$image = '<img src="http://ddragon.leagueoflegends.com/cdn/5.2.1/img/item/'.$key.'.png" alt="texte alternatif" />';
		$name = $value['name'];*/
		
	}
	$maps = array(Summoner_s_Rift => false, Twisted_Treeline => false);
	$tags = array('Damage');
	
	
	display_all_selected($DecodedList, $maps);

	
?>